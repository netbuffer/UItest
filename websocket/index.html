<!DOCTYPE html>
<html>
<head>
    <title>websocket-test</title>
	<meta charset="utf-8">
</head>
<body>
<noscript>
    <h2 style="color: #ff0000">Seems your browser doesn't support
        Javascript! Websockets rely on Javascript being enabled. Please
        enable Javascript and reload this page!</h2>
</noscript>
<input name="text" placeholder="请输入文本内容" disabled="disabled" /><button onclick="ws.send(input.value)">send</button>&emsp;<button onclick="ws.close()">close</button>
<script type="text/javascript">
    var input = document.querySelector('input[name=\'text\']');
    var ws = new WebSocket("ws://localhost:17000/ws");
    ws.onopen = function () {
        console.log("Connection open ...");
        input.removeAttribute("disabled");
    };
    ws.onmessage = function (r) {
        console.log("Received Message: " + r.data);
    };
    ws.onclose = function () {
        console.log("Connection closed.");
        input.setAttribute("disabled", "disabled");
    };
</script>
</body>
</html>
